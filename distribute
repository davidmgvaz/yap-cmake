#/bin/bash
# Guess what: this code works for me!

version="Yap-5.1.4"
splat
cd C
splat
cd ../H
splat
cd ../BEAM
splat
cd ../OPTYap
splat
cd ../VC
splat
cd ../LGPL
splat
cd chr
splat
cd ../clp
splat
cd ../JPL
splat
cd src
splat
cd ../java
splat
cd jpl
splat
cd fli
splat
cd ../../../../pillow
splat
cd examples
splat
cd ../../../GPL
splat
cd clpqr
splat
cd clpq
splat
cd ../clpqr
splat
cd ../clpr
splat
cd  ../../../include
splat
cd  ../CLPBN
splat
cd  clpbn
splat
cd  examples
splat
cd  School
splat
cd  ../mn
splat
cd  ../HMMer
splat
cd  ../../../learning
splat
cd  aleph_model
splat
cd  ../nbayes
splat
cd  ../utils
splat
#/bin/cp config.h config.h.mine
#/bin/cp ../../../bins/cyg/*.h .
#/bin/mv config.h.mine config.h
cd ../../../console
splat
cd ../docs
splat
cd ../include
splat
cd ../library
splat
cd regex
splat
cd ../system
splat
cd ../lammpi
splat
cd ../Tries
splat
cd ../mpi
splat
cd examples
splat
cd ../../tries
splat
cd ../matlab
splat
cd ../yap2swi
splat
cd ../../misc
splat
cd ../pl
splat
cd ../CLPQR
splat
cd clpq
splat
cd ../clpqr
splat
cd examples
splat
cd SESSION
splat
cd ../monash
splat
cd ../../../clpr
splat
cd ../../CHR
splat
cd chr
splat
cd ../../CLPBN
splat
cd clpbn
splat
cd examples
splat
cd ../../learning
splat
cd ../../..
if test "$1" = "--small"; then
  tar cvzf  "$version"-small.tar.gz --exclude=CVS  "$version"/{Artistic,COPYING,INSTALL,README*,changes*,config*,install-sh,Makefile.in,.depend.in,distribute,C,H,VC,console,docs/*.tex,include,library,misc,pl,LGPL/README,LGPL/pillow/[C-Z]*,LGPL/pillow/*.pl,LGPL/pillow/doc/*info*,LGPL/JPL/jpl.yap,LGPL/JPL/jpl_paths.yap.in,LGPL/JPL/Makefile.in,LGPL/JPL/java,LGPL/JPL/src,build-distr,OPTYap,BEAM,MYDDAS,LGPL/clpr,LGPL/chr,LGPL/clp,CLPBN}  --exclude=CLPBN/clpbn/backup  --exclude=CLPBN/clpbn/devel --exclude=CLPBN/test
else
  tar cvzf "$version".tar.gz --exclude=CVS  "$version"/{Artistic,COPYING,INSTALL,README*,changes*,config*,install-sh,Makefile.in,.depend.in,distribute,C,H,VC,console,docs,include,library,misc,pl,LGPL/README,LGPL/pillow/[C-Z]*,LGPL/pillow/*.pl,LGPL/pillow/doc/*info*,LGPL/*.pl,LGPL/Makefile.in,LGPL/JPL/jpl.yap,LGPL/JPL/jpl_paths.yap.in,LGPL/JPL/Makefile.in,LGPL/JPL/java,LGPL/JPL/src,build-distr,build-distr,OPTYap,BEAM,MYDDAS,LGPL/chr,GPL/Makefile.in,GPL/*.pl,GPL/clpqr,CLPBN}  --exclude=CLPBN/clpbn/backup  --exclude=CLPBN/clpbn/devel  --exclude=docs/index  --exclude=CLPBN/test
fi
